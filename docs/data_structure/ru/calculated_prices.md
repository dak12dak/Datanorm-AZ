# Структура рассчитанных цен (выходные данные)

Этот документ описывает структуру выходных данных, возвращаемых методом `calculate_prices()` и экспортируемых методом `export_prices_to_csv()`.

Каждая строка представляет собой словарь со следующими полями (все цены за единицу товара):

| Столбец                     | Назначение                   | Тип данных | Источник                                   | Пример  |
|-----------------------------|------------------------------|------------|--------------------------------------------|---------|
| article_no                  | Номер артикула               | TEXT       | Поле 3 записи A                            | 2TOP    |
| name                        | Название артикула            | TEXT       | Поле 4 записи A                            | OMEGA UDOs… |
| unit                        | Единица измерения            | TEXT       | Поле 6 записи A                            | MTK     |
| list_price                  | Прейскурантная цена          | REAL       | Цена по типу 1/9 или ступеням с base=1     | 894.0   |
| supplier_discount_pct       | Скидка поставщика, %         | REAL       | Вычисление                                 | 29.87   |
| purchase_price              | Закупочная цена              | REAL       | Цена по типу 2 или ступеням с base=2       | 626.0   |
| overhead_pct                | Накладные расходы, %         | REAL       | Параметр запуска                           | 0.0     |
| calculated_purchase_price   | Расчётная закупочная цена    | REAL       | purchase_price × (1 + overhead/100)        | 626.0   |
| markup_pct                  | Наценка, %                   | REAL       | Вычисление                                 | 42.59   |
| sale_price                  | Продажная цена               | REAL       | list_price или calculated_purchase         | 894.0   |

**Дополнительные поля при указании количества:**

Когда параметр `quantity` передаётся в `calculate_prices()` или `export_prices_to_csv()`, включаются следующие дополнительные поля:

| Столбец                     | Назначение                   | Тип данных | Источник                                   | Пример  |
|-----------------------------|------------------------------|------------|--------------------------------------------|---------|
| quantity                    | Указанное количество для расчёта цен | REAL   | Параметр запуска                           | 200.0   |
| total_list_price            | Общая прейскурантная цена (list_price × quantity) | REAL | Вычисление                        | 178800.0 |
| total_purchase_price        | Общая закупочная цена (purchase_price × quantity) | REAL | Вычисление                        | 125200.0 |
| total_calculated_purchase_price | Общая расчётная закупочная цена (calculated_purchase_price × quantity) | REAL | Вычисление | 125200.0 |
| total_sale_price            | Общая продажная цена (sale_price × quantity) | REAL | Вычисление                            | 178800.0 |


